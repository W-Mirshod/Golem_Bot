services:
  golemsp-bot:
    build: .
    container_name: golemsp-telegram-bot
    restart: unless-stopped
    env_file:
      - .env
    environment:
      - HOME=/home/mer
      - XDG_RUNTIME_DIR=/run/user/1000
      - PATH=/usr/local/bin:/usr/bin:/bin
    volumes:
      - /home/mer/.local/share/ya-installer/bundles/golem-provider-linux-v0.17.6/golemsp:/usr/local/bin/golemsp:ro
      - /home/mer/.local/share/ya-installer/bundles/golem-provider-linux-v0.17.6/ya-provider:/usr/local/bin/ya-provider:ro
      - /home/mer/.local/share/ya-installer/bundles/golem-provider-linux-v0.17.6/yagna:/usr/local/bin/yagna:ro
      - /home/mer/.local/share/ya-provider:/home/mer/.local/share/ya-provider:rw
      - /home/mer/.local/lib/yagna:/home/mer/.local/lib/yagna:ro
      - /home/mer/.local/share/yagna:/home/mer/.local/share/yagna:ro
      - /tmp/yagna.sock:/tmp/yagna.sock:rw
      - /run/user/1000/yagna:/run/user/1000/yagna:ro
      - /run/user/1000:/run/user/1000:ro
    network_mode: host
    user: "1000:1000"
